##### 冯诺依曼为什么这么厉害?
他提出了一个划时代的观点
程序可以通过以二进制编码的方式存储
一切的孽缘都是这个男人造成的

##### 字是什么?
cpu一次存取处理数据的长度称为字
所以这个<font color=#66CC99 style=" font-weight:bold;">概念比较大,既包含处理,又包含存取</font>
一个字包含多个字节
一个字等于多少个字节，与系统硬件（总线、cpu命令字位数等）有关，应该毫无前提地说一个字等于多少位。

	①：1字节（byte） = 8位（bit）
	
	②：在16位的系统中（比如8086微机） 1字 （word）= 2字节（byte）= 16（bit）
	
	在32位的系统中（比如win32） 1字（word）= 4字节（byte）=32（bit）
	
	在64位的系统中（比如win64）1字（word）= 8字节（byte）=64（bit）

而字的大小往往又由总线宽度,寄存器MDR的大小有关
[第四章_指令系统###字长问题](第四章_指令系统###字长问题)

##### MAR和MDR是什么?
MAR (memory address register)
相当于存储器的前台,该寄存器存的值是存储器内某个存储单元的地址
通过这个地址就可以读到该存储单元所存储的数据
一个存储单元一个字节,也有可能一个字(各有各的说法)
可能一次读取一个字节,也可能一次读取一个字(要糊涂了)
那么假设一个存储单元为一个字
大概率一次读取一个字

那么将这些数据读到哪呢?
读到MDR中

MDR(memory data register)
用于暂存你根据MAR里地址所查到的数据
![[Pasted image 20220824231530.png]]

MAR的大小决定了你的寻址范围
MDR的大小决定了你一次取的数据有多少个字节
详细的东西咱们不探讨,因为这是属于硬件范畴
各家厂商或许不一样,各种位操作系统也不一样

##### 运算器由哪些构成?
运算器的主要作用肯定是实现数的加减乘除和逻辑运算
那么它包含哪些部分呢?
X:通用寄存器
用于存放操作数
MQ:乘商寄存器
存放ALU计算完后的乘商的结果或者乘商的操作数
ACC:累加器
存放运算的加减操作数
同时也存放ALU计算完的加减乘除的结果
ALU:算数逻辑单元
真正运算的部件就是它,其他部件全是存值用的
这里面用电路实现算是运算和逻辑运算


##### 控制器构成
PC:指导去存储器取指令
IR:取出的指令放在这
CU:控制单元
用以解析IR取出的指令的操作码
![[Pasted image 20220824234422.png]]



##### 模拟编译成机器码的c程序在cpu和存储器中的运算流程

流程举例:
pc指向程序的第一条指令的地址
把这个地址给mar,然后让mar去存储器中读相应地址的指令到mdr
mdr将该指令给ir
ir将指令给cu,cu来分析执行指令
根据该指令操作码到指令集里找到该指令为取数指令
cu让ir将指令的地址码给mar去找对应地址的数据a=2取给mdr
mdr将2写入到acc中
然后执行完毕
pc+1
执行下一条指令
......省略........
cu分析该指令为乘法指令
让ir将0000000100地址码给mar去读b=3读到mdr
将3读到mq
然后经过alu计算得到结果后写入到acc
![[Pasted image 20220824235049.png]]
![[Pasted image 20220824234251.png]]



主要一个关键知识点:
指令和数据在内存中别无二质
只是pc本身就指向指令
然后根据指令里的操作码和地址码(地址码不止有一个)
去指令集找指令种类
去内存里找数据
根据指令不同的操作码来进行寄存器和alu的运算互动

当然不同的cpu,其指令集可能不同
大多数用lntel的X86CPU处理器的指令集


##### 什么是指令集?
任何程序都是由基本的算术运算和逻辑运算以及跳转移位的基本指令组合得到的
那么把这些基本的指令在硬件层面实现出来
并给他们编号(操作码)
0001号操作码就是取数指令
相当于一个接口规范一样
这些指令的实现组成了一个指令集

不同硬件平台的指令集也有所不同
比如x86指令集和ARM指令集

##### cpu和指令集的关系?
 CPU的指令集是软件与CPU这两个层级之间的接口, 而CPU自己, 就是对于这一套CPU指令集的"实例化"
 一句话来说就是cpu指令集能告诉我们cpu能干什么(实现了什么)
 

##### 机器码与汇编语言有什么关系?
首先一个c程序
在被预处理,编译(得到汇编语言),汇编器后得到机器码
链接库将机器码合为一处
详细参见[[c程序的编译过程]]
[c程序的编译过程](../../clang/c程序的编译过程)

所以看汇编就是机器码的助记符
机器码可以直接被cpu读取运行
汇编方便人开发
所以我们要把汇编给翻译成机器码后
cpu分析机器码根据指令集去执行不同的指令
采取不同的寄存器进行读/写,算术/逻辑运算



##### 计算机语言的层次结构
![[Pasted image 20220826010313.png]]
对于系统调用以及汇编语言的详细关系我们还不知道
以后再探索


##### cpu时钟周期是什么
这个概念主要用于形容指令执行的耗时的
不同指令所消耗的时钟周期数不同

所以看cpu的性能好不好就看
它的
* 实现的指令集的指令平均所用的时钟周期
* cpu主频

##### 系统整体的性能指标可以从哪些方面看?
* cpu执行指令的时间
* 存储器访问的时间
* io操作占的时间
* 磁盘访问的时间
* 操作系统调度本身的开销




