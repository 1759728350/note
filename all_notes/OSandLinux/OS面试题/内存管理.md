#### 小林coding自问自答

##### 为什么要进行内存分段
功能上来说
因为一个程序他本身就是包含不同的组成部分,比如main程序,变量,函数库,数组,对象
所以的段来存对吧,比如栈段,堆段,代码段,数据段,每个段的特点不同

![[Pasted image 20220820155636.png]]
每个程序拥有其独特的一段内存空间来运行
程序之间不会相互覆盖,减少影响,起到一种隔离的效果

效率上来说
cpu从虚拟地址的第一个存储单元读到最后一个存储单元来找效率肯定低
分段后划出一块一块区域,就不用从头开始找,而是去那一块区域找,cpu访问内存的效率更高了
开了一块连续的内存,后续执行访问效率高


##### 物理地址和虚拟地址如何进行映射的?
段地址加偏移量来确定
cpu每次执行都会到段表里来找上述两个量来确定物理地址在哪

##### 内存分段会产生哪些问题呢?
内存分段带来了一些效率上和空间上的问题的问题
比如
	内存碎片
	内存交换的效率问题

内存碎片
![[Pasted image 20220820170650.png]]

一些小的不连续的内存碎片你之后读程序,因为其碎片本身很小,只有100MB,而你之后要读的有200MB,那它塞不进去,那只能造成内存空间的浪费

那吗操作系统就会使用内存交换的机制

##### 内存交换的效率问题
何为内存交换?
操作系统里有个swap分区,用以将这些不连续的存储在内存中的程序先读到硬盘中然后再读到内存中将原先的内存碎片给并掉了
同时你内存写到硬盘,以及硬盘读到内存,速度都特变慢,每次内存交换都邮箱性能

##### 为什么要进行内存分页?
因为要解决内存分段产生的内存交换问题
