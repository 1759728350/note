##### 什么是进程?
将可执行的程序读到内存里被cpu执行就是进程
所以进程就是被执行起来的程序
具体来说就是
将一个静态文件gcc编译为二进制可执行文件,然后将其读到内存里
cpu再执行其内部的指令,这个运行中的程序就是进程

##### 什么是程序?
在linux/unix里elf(Executable and linkable format)就是可执行程序
![[img/Pasted image 20220822153210.png]]
上面就是gcc的一套过程
将c编译链接为二进制可执行文件
像elf这种包含着二进制数据和指令的可执行文件就是程序

##### 当一个程序要进行io时cpu要等他吗?
不需要
cpu可以腾出来执行其他进程,但需要引入一个概念---中断
那么中断是什么?

##### 什么是中断?
中断就是cpu在执行当前程序时遇到其他突发状况需要停止当前程序执行,去执行其他程序,然后再切回来执行的过程

中断有很多种分类

我们来探讨一下中断的本质
首先操作系统本身就是一个程序
当发生中断后,就意味着什么呢?----就意味着需要操作系统来调配各种外部资源或者切换进程
由于操作系统程序的这些管理工作,比如进程切换,调用io设备需要一些<font color=#F09B59 style=" font-weight:bold;">特权指令</font>,因此cpu要从用户态切换到核心态
什么是用户态和核心态?[核心态和用户态是什么]()
只有用户态切换到核心态后,才能使操作系统获取到计算机控制权
因为操作系统这个程序本身在核心态,cpu只有切换到核心态操作系统的相关程序才能获取到cpu的使用权限
所以中断是多程序并发的前提
没有操作系统来切换进程,做不到并发

##### 一个中断的流程拓展
	(1) 以两个进程并发运行为例，进程1在用户态运行了一段时间后，CPU会接收到计时部件（操作系统内核的时钟管理部件）发出的中断信号，表示进程1已经用完了一个时间片，CPU会切换到核心态，把CPU的使用权限交还给操作系统，操作系统内核就会对刚才的中断进行处理，操作系统知道进程1的时间片用完，就需要切换进程，在完成切换进程的一系列工作后，操作系统又会将CPU的使用权交还给用户进程。  
	(2) 接着进程2拿到CPU执行权就会在用户态下执行，进程2执行一段时间后，进程2发出系统调用（内中断信号），请求输出，主动要求操作系统介入工作，CPU会立即切换到核心态，把CPU的使用权限交还给操作系统，操作系统内核接管进程2系统调用请求，调用IO设备开始输出工作，然后操作系统交还CPU执行权，IO设备也会并行执行，进程2需要等待IO操作完成，所以进程1拿到CPU执行权开始运行。当执行一段时间后，IO操作完成，IO设备向CPU发送一个中断信号，此时CPU由用户态再次转换为核心态，对刚才的中断信号处理，由于IO操作完成，所以操作系统知道进程2可以恢复运行了，以完成后续工作，所以操作系统再次交还CPU执行权，让进程2再次运行。
	
	从上面过程可以看出：
	
	(1) 当中断发生时，CPU立即进入核心态。  
	(2) 当中断发生后，当前运行的进程暂停运行，并由操作系统内核对中断进程处理。  
	(3) 对于不同的中断信号，会进行不同的处理。

[详细拓展](https://blog.csdn.net/weixin_43869318/article/details/106843593?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522166115442816780357229086%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&request_id=166115442816780357229086&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~rank_v31_ecpm-3-106843593-null-null.142^v42^new_blog_pos_by_title,185^v2^control&utm_term=%E4%B8%AD%E6%96%AD%E6%98%AF%E4%BB%80%E4%B9%88&spm=1018.2226.3001.4187)

##### 核心态和用户态是什么?
核心态和用户态是cpu的两种状态


那么如何切换到核心态呢


##### 并发与并行区别
![[img/Pasted image 20220822180705.png]]
那么问题来了
并发看着和串行不差不多吗?
串行一次只能执行一个任务,只有该任务执行完才能执行其他任务
而并发伴随着中断


为什么用批处理更好
